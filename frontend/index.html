<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sistema de Compras</title>
  <link rel="stylesheet" href="./css/main.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Sistema de Compras</h1>
    <nav>
      <button data-section="usuarios">Usuários</button>
      <button data-section="produtos">Produtos</button>
      <button data-section="compras">Compras</button>
      <button data-section="relatorios">Relatórios</button>
      <button data-section="graficos">Gráficos</button>
      <button data-section="lote">Cadastrar Lote</button>
    </nav>
  </header>
  <main>
    <section id="usuarios" class="hidden usuario-section">
      <div class="usuario-header">
        <h2>Buscar Usuários</h2>
        <button id="btnCadastrarUsuario" class="btn-cadastrar">Cadastrar Novo Usuário</button>
      </div>
    
      <div class="form-busca">
        <label for="metodoBusca">Método de Busca:</label>
        <select id="metodoBusca">
          <option value="id">Por ID</option>
          <option value="nome">Por Nome</option>
        </select>
    
        <input id="inputBuscaUsuario" placeholder="Digite o valor da busca" />
        <button id="btnBuscarUsuario" class="btn-buscar">Buscar</button>
      </div>
    
      <table id="tableUsuarios" class="table-usuario">
        <thead>
          <tr>
            <th>ID</th>
            <th>Primeiro Nome</th>
            <th>Sobrenome</th>
            <th>Idade</th>
            <th>Email</th>
            <th>Telefone</th>
            <th>Endereço</th>
            <th>Cidade</th>
            <th>Estado</th>
            <th>Data Nasc.</th>
            <th>Ações</th>      
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <!-- Modal de Cadastro -->
      <div id="modalCadastro" class="modal hidden">
        <div class="modal-content">
          <span id="modalClose" class="modal-close">&times;</span>
          <h3>Cadastrar Novo Usuário</h3>
          <form id="formCadastroUsuario">
            <input type="hidden" name="idUsuario" />
            <div class="form-group"><label>Primeiro Nome<input name="primeiroNome" required /></label></div>
            <div class="form-group"><label>Sobrenome<input name="sobrenome" required /></label></div>
            <div class="form-group"><label>Idade<input name="idade" type="number" min="0" max="120" required /></label></div>
            <div class="form-group"><label>Email<input name="email" type="email" required /></label></div>
            <div class="form-group"><label>Telefone<input name="telefone" required /></label></div>
            <div class="form-group"><label>Endereço<input name="endereco" required /></label></div>
            <div class="form-group"><label>Cidade<input name="cidade" required /></label></div>
            <div class="form-group"><label>Estado<input name="estado" required /></label></div>
            <div class="form-group"><label>Data Nasc.<input name="dataNascimento" type="date" required /></label></div>
            <div id="formError" class="form-error hidden"></div>
            <button type="submit" class="btn-submit">Salvar</button>
          </form>
        </div>
      </div>
    </section>     
    <section id="produtos" class="hidden">
      <h2>Produtos</h2>
      <div class="form-crud">
        <input id="prodTitulo" placeholder="Título" />
        <input id="prodCategoria" placeholder="Categoria" />
        <input id="prodPreco" type="number" placeholder="Preço" />
        <input id="prodEstoque" type="number" placeholder="Estoque" />
        <button id="btnAddProduto">Adicionar</button>
      </div>
      <table id="tableProdutos">
        <thead><tr><th>ID</th><th>Título</th><th>Categoria</th><th>Preço</th><th>Estoque</th><th>Ações</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <section id="compras" class="hidden">
      <h2>Compras</h2>
      <!-- Formulário CRUD para compras -->
    </section>

    <section id="relatorios" class="hidden">
      <h2>Relatórios Gerenciais</h2>
      <div class="tabs">
        <button data-report="usuarios">Usuários</button>
        <button data-report="produtos">Produtos</button>
        <button data-report="compras">Compras</button>
        <button data-report="estoque">Estoque Crítico</button>
        <button data-report="consolidado">Consolidado</button>
      </div>
      <div id="reportContent"></div>
    </section>

    <section id="graficos" class="hidden">
      <h2>Gráficos</h2>
      <div class="charts-filters">
        <label>ID inicial: <input type="number" id="filterStart" value="1" /></label>
        <label>ID final: <input type="number" id="filterEnd" value="10" /></label>
        <button id="btnUpdateCharts">Atualizar gráficos</button>
      </div>
      <canvas id="chartProdutos"></canvas>
      <canvas id="chartUsuarios"></canvas>
    </section>
    
    <section id="lote" class="hidden">
        <h2>Povoamento em Lote</h2>
        <button id="btnSeed">Executar Povoamento</button>
        <pre id="seedLogs" class="logs"></pre>
    </section>      
  </main>
  <script type="module" src="./js/main.js"></script>
  <script type="module" src="./js/seed.js"></script>
</body>
</html>
